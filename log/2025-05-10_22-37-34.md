<user_query>
ğŸ—‚ï¸ ë©”íƒ€-ì—ì´ì „íŠ¸ ë¹Œë” â€œì „ì²´ ì°©ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸â€
(ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬ ì„¸íŒ…ê¹Œì§€ í¬í•¨, ìœ„â†’ì•„ë˜ ìˆœì„œëŒ€ë¡œ ì§„í–‰)

ìˆœì„œ ì‘ì—… ë‚´ìš© êµ¬ì²´ì  ì»¤ë§¨ë“œÂ·íŒŒì¼ ë‚´ê°€ ì§ì ‘ ìë™Â·CI
0 Git / Turborepo ëª¨ë…¸ë ˆí¬ ì´ˆê¸°í™” npx create-turbo@latest meta-agent
cd meta-agent && pnpm install âœ…
1 ì½”ë“œ í’ˆì§ˆ ì„¸íŠ¸
ESLint Â· Prettier Â· Biome bash<br>pnpm add -D eslint prettier eslint-config-next<br>pnpm dlx biome init<br>
.vscode/settings.jsonì— formatOnSave ON âœ…
2 lint / format ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ package.json
"lint":"biome check . && eslint .",
"format":"biome format . && prettier -w ." âœ…
3 Git Hook & CI ê²Œì´íŠ¸ pnpm add -D husky lint-staged
npx husky install
.husky/pre-commit â†’ pnpm lint
.github/workflows/ci.yml â†’ pnpm lint && pnpm type-check âœ… CI
4 Neon Postgres + Upstash Redis + Prisma Accelerate ë¦¬ì†ŒìŠ¤ ê°œí†µ í´ë¼ìš°ë“œ ëŒ€ì‹œë³´ë“œ í´ë¦­ âœ…
5 Prisma ì„¤ì¹˜ & Accelerate ì—°ë™ pnpm add -D prisma
npx prisma init --datasource-provider postgresql
.env â†’ DATABASE_URL=prisma://â€¦
npx prisma generate --accelerate âœ…
6 ìŠ¤í‚¤ë§ˆ ì‘ì„± & ì²« ë§ˆì´ê·¸ë ˆì´ì…˜ prisma/schema.prisma í¸ì§‘ â†’
pnpm prisma migrate dev --name init âœ… CI migrate deploy
7 Drizzle ORM + Neon HTTP ë“œë¼ì´ë²„ (Edge ì „ìš©) pnpm add drizzle-orm postgres
.env â†’ NEON_HTTP_URL=https://â€¦ âœ…
8 Edge Route ìƒ˜í”Œ ì‘ì„± apps/api/posts/route.ts (runtime='edge')
Drizzle + fetch ì‚¬ìš© âœ… (Cursor + Context7)
9 Upstash Redis Edge KV ìºì‹œ ë˜í¼ pnpm add @upstash/redis@edge
libs/cache.ts â†’ getOrSet í•¨ìˆ˜ âœ…
10 Prisma(ì“°ê¸°) â†” Drizzle+Redis(ì½ê¸°) íŒ¨í„´ ì ìš© Node Î»: Prisma â†’ Redis set
Edge: Redis hit â†’ Drizzle read âœ…
11 Turbopack & Remote Cache next.config.js â†’ experimental:{ turbo:true }
turbo login âœ… CI ìºì‹œ
12 Context7 MCP ë“±ë¡ ~/.cursor/mcp.json 3ì¤„ ì¶”ê°€ â†’ Cursor ì¬ì‹œì‘ âœ…
13 @Docs ìºì‹œ & ìë™ ê·œì¹™ Cursor Settings â†’ Docs URL ì¶”ê°€
.cursor/rules/golden-layout-docs.mdc ì‘ì„± âœ…
14 CI íŒŒì´í”„ë¼ì¸ ì™„ì„± .github/workflows/build.yml
yaml<br>steps:<br> - pnpm turbo run build --cache<br> - pnpm prisma migrate deploy<br> - pnpm lint && pnpm type-check<br> âœ… CI
15 ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ì—°ê²° Vercel Analytics Â· Prisma Accelerate Latency Â· Upstash Metrics âœ…
16 ì‹¤ì‚¬ìš© í…ŒìŠ¤íŠ¸ & ìµœì í™” ë£¨í”„ Lighthouse Â· Edge ì½œë“œìŠ¤íƒ€íŠ¸ ì¸¡ì • â†’ TTL ì¡°ì •Â·ì¸ë±ìŠ¤ ì¶”ê°€ âœ…

Key Notes

í’ˆì§ˆ ê´€ë¦¬: ESLint (Next.js ê·œì¹™) + Biome = JSÂ·TSÂ·MD íŒŒì¼ í†µí•© ê²€ì‚¬ / ìë™ í¬ë§¤íŒ….

ì†ë„: ì“°ê¸° ì•ˆì „(Prisma + Accelerate) + Edge ì´ˆê³ ì† ì½ê¸°(Drizzle + Neon HTTP) + ë©”ëª¨ë¦¬ ìºì‹œ(Upstash KV).

ê°œë°œ íš¨ìœ¨: Turborepo ì›í´ë¦­ ìºì‹œ â†’ ë¹Œë“œ/í…ŒìŠ¤íŠ¸ ì‹œê°„ ëŒ€í­ ë‹¨ì¶•.

AI ë ˆí¼ëŸ°ìŠ¤: Context7 MCP + @Docs ê·œì¹™ìœ¼ë¡œ ìµœì‹  Golden-Layout ë¬¸ì„œë¥¼ ì§ˆë¬¸ë§ˆë‹¤ ìë™ ì£¼ì….

ì´ê±° ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•˜ì

agentk2_setttingset2 ìì²´ê°€ meta-agent project ë‹ˆê¹Œ ì´í´ë”ì—ì„œ ì „ë¶€ ì“¸ìˆ˜ìˆë„ë¡ ì„¤ì¹˜í•´ì¤˜

ì‘ ë§ì–´

ì•„ë‹ˆ ë„ˆê°€ ê¸€ë¡œë²Œë¡œ ì„¤ì¹˜ ì•ˆí–ˆìë„ˆ

ë„ˆê°€ í™•ì¸í•´

PS C:\Users\USER> pnpm add turbo -D --ignore-workspace-root-check
Packages: +2
++
Downloading turbo-windows-64@2.5.3: 14.97 MB/14.97 MB, done
Progress: resolved 7, reused 1, downloaded 1, added 2, done

devDependencies:

- turbo 2.5.3

Done in 2s using pnpm v10.11.0
PS C:\Users\USER>

ë¼ê³  ë‚˜ì˜´

ì˜µì…˜ ì–¸ì œ ì¶”ì²œ? pre-commit í›… ë‚´ìš© ì¥ë‹¨ì 
A. â€œì´ˆê°„ë‹¨â€ â€” í›…ì—ì„œ í†µì§¸ë¡œ pnpm lint íŒ€ ê·œëª¨ ì‘ê³ , ë³€ê²½ íŒŒì¼ ìˆ˜ê°€ í•­ìƒ ì ì„ ë•Œ bash\n#!/usr/bin/env sh\n. "$(dirname "$0")/_/husky.sh"\npnpm lint
	âœ” ì„¤ì • 0ë‹¨ê³„
âœ– ë³€ê²½ íŒŒì¼ ë§ìœ¼ë©´ ì»¤ë°‹ ì§€ì—°
B. â€œí‘œì¤€â€ â€” lint-stagedë¡œ â€œStaged íŒŒì¼ë§Œâ€ ê²€ì‚¬	ì»¤ë°‹ íŒŒì¼ ì–‘ì´ ëŠ˜ì–´ë‚  ê°€ëŠ¥ì„±ì´ ìˆì„ ë•Œ
(ëŒ€ë¶€ë¶„ì˜ íŒ€ì´ ì”€)	bash\n#!/usr/bin/env sh\n. "$(dirname "$0")/\_/husky.sh"\npnpm lint-staged
âœ” ì»¤ë°‹ ì†ë„ â†‘ (í•„ìš” íŒŒì¼ë§Œ)
âœ” ìë™ í¬ë§¤íŒ… ê°€ëŠ¥

ì‹¤ë¬´ì—ì„œëŠ” Bë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤. lint-stagedë¥¼ ë„£ì–´ë„ CI ë‹¨ê³„ì—ì„œëŠ” ì „ì²´ í´ë”ë¥¼ ë‹¤ì‹œ ê²€ì‚¬í•˜ë¯€ë¡œ ì•ˆì „ì„±ì´ ìœ ì§€ë©ë‹ˆë‹¤.

1. ê¶Œì¥(B) ì„¤ì • ë¹ ë¥´ê²Œ ëë‚´ê¸°
   â‘  íŒ¨í‚¤ì§€ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
   jsonc
   ë³µì‚¬
   í¸ì§‘
   // package.json
   {
   "scripts": {
   "lint": "biome check . && eslint . --max-warnings 0",
   "format": "biome format . && prettier -w .",
   "lint-staged": "lint-staged"
   },
   "lint-staged": {
   "_.{ts,tsx,js,jsx}": [
   "biome format --write",
   "eslint --cache --fix"
   ],
   "_.{json,md,css,scss,mdx}": ["biome format --write"]
   }
   }
   biome format --write: ë¹ ë¥¸ ìë™ í¬ë§·

eslint --cache --fix: ë³€ê²½ íŒŒì¼ë§Œ ìºì‹œ ê²€ì‚¬ í›„ ìë™ ê³ ì¹¨

ê¸°íƒ€ í™•ì¥ì(ì´ë¯¸ì§€, í°íŠ¸)ëŠ” ì§€ì •í•˜ì§€ ì•Šì•„ë„ ë¬´ì‹œë©ë‹ˆë‹¤.

â‘¡ Husky pre-commit í›… ë®ì–´ì“°ê¸°
bash
ë³µì‚¬
í¸ì§‘
npx husky set .husky/pre-commit "pnpm lint-staged"
(ê¸°ì¡´ í›…ì„ ìˆ˜ì •í•´ë„ ë©ë‹ˆë‹¤.)

2. CI ë‹¨ê³„ëŠ” ê·¸ëŒ€ë¡œ â€œí´ë” ì „ì²´ ê²€ì‚¬â€
   .github/workflows/ci.yml

yaml
ë³µì‚¬
í¸ì§‘
steps:

- run: pnpm lint # ì „ì²´ ESLint + Biome
- run: pnpm type-check # tsx --noEmit
  pre-commit ğŸ‘‰ â€œë¹ ë¥¸ ë¶€ë¶„ ê²€ì‚¬â€

CI ğŸ‘‰ â€œì „ì²´ ê²€ì‚¬ + íƒ€ì…ì²´í¬â€
â†’ ì†ë„Â·ì•ˆì •ì„± ë‘˜ ë‹¤ í™•ë³´.

3. ìì£¼ ë¬»ëŠ” Q&A
   ê¶ê¸ˆì¦ ë‹µë³€
   biomeë„ lint ê¸°ëŠ¥ ìˆëŠ”ë° eslint ë‘˜ ë‹¤ í•„ìš”? Biomeì€ í¬ë§¤í„°+ì¼ë°˜ ê·œì¹™, Next.js / React / import ì •ë ¬ ê°™ì€ ìƒíƒœê³„ ì „ìš© ë£°ì€ ESLintê°€ í’ë¶€.
   ì»¤ë°‹ì´ ì—¬ì „íˆ ëŠë¦¬ë‹¤ eslint --cache ì´ë¯¸ ì‚¬ìš© ì¤‘ì´ë©´, ëŒ€í˜• refactor ë¸Œëœì¹˜ì—ì„œëŠ” git add -N . && git resetìœ¼ë¡œ í•„ìš”í•œ íŒŒì¼ë§Œ staged í›„ ì»¤ë°‹.
   í¬ë§·ë§Œ ê³ ì¹˜ê³  ì‹¶ì§€ ì•Šì„ ë•Œ git commit -m "..." --no-verify ë¡œ í›… ê±´ë„ˆë›°ê¸° (ë“œë¬¼ê²Œ ì‚¬ìš©).
   Monorepo ë‹¤ì¤‘ íŒ¨í‚¤ì§€ lint-stagedëŠ” ë£¨íŠ¸ì—ì„œ ì‹¤í–‰í•´ë„ linters": {"_": "pnpm --filter=@scope/_ ..."} íŒ¨í„´ ì‚¬ìš© ê°€ëŠ¥.

ğŸ“Œ ì§€ê¸ˆ í•´ì•¼ í•  ê²ƒ
package.jsonì— ìœ„ ìŠ¤í¬ë¦½íŠ¸Â·lint-staged ë¸”ë¡ ì¶”ê°€

npx husky set .husky/pre-commit "pnpm lint-staged" ì‹¤í–‰

ì»¤ë°‹ í•œ ë²ˆ í…ŒìŠ¤íŠ¸ â†’ ì˜ ì‘ë™í•˜ë©´ ì²´í¬ë¦¬ìŠ¤íŠ¸ 3ë‹¨ê³„ ì™„ë£Œ í‘œì‹œ

ë‚˜ë¨¸ì§€ ë‹¨ê³„(4~) ê·¸ëŒ€ë¡œ ì§„í–‰

ì´ë ‡ê²Œ í•´ë‘ë©´ ì»¤ë°‹ ì§€ì—° ì—†ì´ ì½”ë“œ í’ˆì§ˆì„ ìë™ìœ¼ë¡œ ì§€ì¼œì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì¶”ê°€ ë£°(ì˜ˆ: stylelint, markdownlint)ì„ ë„£ê³  ì‹¶ê±°ë‚˜ ì†ë„ê°€ ì—¬ì „íˆ ë¬¸ì œë¼ë©´ ì–¸ì œë“  ì•Œë ¤ ì£¼ì„¸ìš”!

ë¼ë„¤ í´ë¼ìš°ë“œ ë¦¬ì†ŒìŠ¤ ë„ˆê°€ ëª»í•´?
</user_query>

<response>
ë„¤, ì‚¬ìš©ìë‹˜. í´ë¼ìš°ë“œ ë¦¬ì†ŒìŠ¤(Neon Postgres, Upstash Redis, Prisma Accelerate) ê°œí†µì€ ì œê°€ ì§ì ‘ ìˆ˜í–‰í•  ìˆ˜ ì—†ëŠ” ì‘ì—…ì…ë‹ˆë‹¤. ê° ì„œë¹„ìŠ¤ì˜ ì›¹ì‚¬ì´íŠ¸ì— ë°©ë¬¸í•˜ì…”ì„œ ê³„ì •ì„ ë§Œë“œì‹œê³  í•„ìš”í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì‹  í›„, ë°œê¸‰ëœ ì—°ê²° ì •ë³´(URL, API í‚¤ ë“±)ë¥¼ ì €ì—ê²Œ ì•Œë ¤ì£¼ì…”ì•¼ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì  ë‹¤ì‹œ í•œë²ˆ ì–‘í•´ ë¶€íƒë“œë¦½ë‹ˆë‹¤.

ì´ì œ "í‘œì¤€" (ì˜µì…˜ B) `lint-staged` ì„¤ì •ì„ ì ìš©í•˜ê² ìŠµë‹ˆë‹¤.

**1. `package.json` ìˆ˜ì •**

ì œê³µí•´ì£¼ì‹  ë‚´ìš©ì— ë”°ë¼ `package.json` íŒŒì¼ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

- `scripts.lint`ë¥¼ `"biome check . && eslint . --max-warnings 0"`ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.
- `scripts`ì— `"lint-staged": "lint-staged"`ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.
- íŒŒì¼ ìµœìƒìœ„ ë ˆë²¨ì— ë‹¤ìŒ `lint-staged` ì„¤ì •ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤:
  `json
    "lint-staged": {
      "*.{ts,tsx,js,jsx}": [
        "biome format --write",
        "eslint --cache --fix"
      ],
      "*.{json,md,css,scss,mdx}": ["biome format --write"]
    }
    `
  `package.json` íŒŒì¼ì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.

**2. Husky `pre-commit` í›… ë®ì–´ì“°ê¸°**

`npx husky set .husky/pre-commit "pnpm lint-staged"` ëª…ë ¹ì–´ëŠ” deprecated ë˜ì–´ íŒŒì¼ ë‚´ìš©ì„ ë³€ê²½í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.
ëŒ€ì‹  `.husky/pre-commit` íŒŒì¼ì„ ì§ì ‘ ìˆ˜ì •í•˜ì—¬ ì‹¤í–‰ ëª…ë ¹ì„ `pnpm lint-staged`ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤:

```bash
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

pnpm lint-staged
```

`.husky/pre-commit` íŒŒì¼ì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.
ì´ê²ƒìœ¼ë¡œ ì‚¬ìš©ìë‹˜ê»˜ì„œ ìš”ì²­í•˜ì‹  "í‘œì¤€" (ì˜µì…˜ B) `lint-staged` ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì²´í¬ë¦¬ìŠ¤íŠ¸ì˜ 3ë‹¨ê³„ ("Git Hook & CI ê²Œì´íŠ¸")ì˜ pre-commit í›… ë¶€ë¶„ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤. CI ë¶€ë¶„(`.github/workflows/ci.yml`)ì€ ì´ë¯¸ "í´ë” ì „ì²´ ê²€ì‚¬"ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ê·¸ëŒ€ë¡œ ìœ ì§€ë©ë‹ˆë‹¤.

**4ë‹¨ê³„: Neon Postgres + Upstash Redis + Prisma Accelerate ë¦¬ì†ŒìŠ¤ ê°œí†µ**
ì´ ë‹¨ê³„ëŠ” ì‚¬ìš©ìë‹˜ê»˜ì„œ ì§ì ‘ í´ë¼ìš°ë“œ ëŒ€ì‹œë³´ë“œì—ì„œ Neon, Upstash, Prisma Accelerate ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì ‘ì† ì •ë³´ë¥¼ ì¤€ë¹„í•´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.
ì¤€ë¹„ê°€ ì™„ë£Œë˜ê³  í•„ìš”í•œ ì—°ê²° ì •ë³´ë“¤ì„ ì•Œë ¤ì£¼ì‹œë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.
</response>
